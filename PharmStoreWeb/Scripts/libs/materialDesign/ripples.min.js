(function(n){n.support.transition=function(){var t=document.body||document.documentElement,n=t.style;return n.transition!==undefined||n.WebkitTransition!==undefined||n.MozTransition!==undefined||n.MsTransition!==undefined||n.OTransition!==undefined}();n.ripples=function(t){function i(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function r(t){t.off();n.support.transition?t.addClass("ripple-out"):t.animate({opacity:0},100,function(){t.trigger("transitionend")});t.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.remove()})}t=n.extend({target:".btn:not(.btn-link), .card-image, .navbar a:not(.withoutripple), .nav-tabs a:not(.withoutripple), .withripple"},t);n(document).on("mousedown touchstart",t.target,function(t){var c,o,f,s,h,u,e;if(i()&&t.type=="mousedown")return!1;if(c=n(this),n(this).find(".ripple-wrapper").length||n(this).append("<div class=ripple-wrapper><\/div>"),o=n(this).find(".ripple-wrapper"),f=o.offset(),i())if(t=t.originalEvent,t.touches.length===1)s=t.touches[0].pageX-f.left,h=t.touches[0].pageY-f.top;else return;else s=t.pageX-f.left,h=t.pageY-f.top;u=n("<div><\/div>");u.addClass("ripple");u.css({left:s,top:h});u.css({"background-color":n(this).data("ripple-color")?n(this).data("ripple-color"):window.getComputedStyle(n(this)[0]).color});o.append(u),function(){return window.getComputedStyle(u[0]).opacity}();e=Math.max(n(this).outerWidth(),n(this).outerHeight())/u.outerWidth()*2.5;n.support.transition?(u.css({"-ms-transform":"scale("+e+")","-moz-transform":"scale("+e+")","-webkit-transform":"scale("+e+")",transform:"scale("+e+")"}),u.addClass("ripple-on"),u.data("animating","on"),u.data("mousedown","on")):u.animate({width:Math.max(n(this).outerWidth(),n(this).outerHeight())*2,height:Math.max(n(this).outerWidth(),n(this).outerHeight())*2,"margin-left":Math.max(n(this).outerWidth(),n(this).outerHeight())*-1,"margin-top":Math.max(n(this).outerWidth(),n(this).outerHeight())*-1,opacity:.2},500,function(){u.trigger("transitionend")});setTimeout(function(){u.data("animating","off");u.data("mousedown")=="off"&&r(u)},500);c.on("mouseup mouseleave touchend",function(){u.data("mousedown","off");u.data("animating")=="off"&&r(u)})})};n.fn.ripples=function(){n.ripples({target:n(this)})}})(jQuery);